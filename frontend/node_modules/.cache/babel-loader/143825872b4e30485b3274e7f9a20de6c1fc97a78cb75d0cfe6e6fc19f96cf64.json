{"ast":null,"code":"import React,{createContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export const UserContext=/*#__PURE__*/createContext();export const UserProvider=_ref=>{let{children}=_ref;const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);// Load user from localStorage on mount\nuseEffect(()=>{const savedUser=localStorage.getItem('user');if(savedUser){try{setUser(JSON.parse(savedUser));}catch(e){console.error('Failed to parse saved user',e);localStorage.removeItem('user');}}setLoading(false);},[]);// Create a user if one doesn't exist\nconst createUser=username=>{const newUser={id:`user-${Math.random().toString(36).substring(2,10)}`,username,createdAt:new Date().toISOString()};setUser(newUser);localStorage.setItem('user',JSON.stringify(newUser));return newUser;};// Update username only\nconst updateUsername=username=>{if(!user){return createUser(username);}const updatedUser={...user,username};setUser(updatedUser);localStorage.setItem('user',JSON.stringify(updatedUser));return updatedUser;};// Update any user properties\nconst updateUser=updates=>{if(!user)return null;const updatedUser={...user,...updates};setUser(updatedUser);localStorage.setItem('user',JSON.stringify(updatedUser));return updatedUser;};const logout=()=>{setUser(null);localStorage.removeItem('user');};return/*#__PURE__*/_jsx(UserContext.Provider,{value:{user,loading,createUser,updateUsername,updateUser,logout},children:children});};","map":{"version":3,"names":["React","createContext","useState","useEffect","jsx","_jsx","UserContext","UserProvider","_ref","children","user","setUser","loading","setLoading","savedUser","localStorage","getItem","JSON","parse","e","console","error","removeItem","createUser","username","newUser","id","Math","random","toString","substring","createdAt","Date","toISOString","setItem","stringify","updateUsername","updatedUser","updateUser","updates","logout","Provider","value"],"sources":["C:/Users/anuarbek/codenames-game/frontend/src/context/UserContext.jsx"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\r\n\r\nexport const UserContext = createContext();\r\n\r\nexport const UserProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Load user from localStorage on mount\r\n  useEffect(() => {\r\n    const savedUser = localStorage.getItem('user');\r\n    if (savedUser) {\r\n      try {\r\n        setUser(JSON.parse(savedUser));\r\n      } catch (e) {\r\n        console.error('Failed to parse saved user', e);\r\n        localStorage.removeItem('user');\r\n      }\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  // Create a user if one doesn't exist\r\n  const createUser = (username) => {\r\n    const newUser = {\r\n      id: `user-${Math.random().toString(36).substring(2, 10)}`,\r\n      username,\r\n      createdAt: new Date().toISOString()\r\n    };\r\n    setUser(newUser);\r\n    localStorage.setItem('user', JSON.stringify(newUser));\r\n    return newUser;\r\n  };\r\n\r\n  // Update username only\r\n  const updateUsername = (username) => {\r\n    if (!user) {\r\n      return createUser(username);\r\n    }\r\n    \r\n    const updatedUser = { ...user, username };\r\n    setUser(updatedUser);\r\n    localStorage.setItem('user', JSON.stringify(updatedUser));\r\n    return updatedUser;\r\n  };\r\n\r\n  // Update any user properties\r\n  const updateUser = (updates) => {\r\n    if (!user) return null;\r\n    \r\n    const updatedUser = { ...user, ...updates };\r\n    setUser(updatedUser);\r\n    localStorage.setItem('user', JSON.stringify(updatedUser));\r\n    return updatedUser;\r\n  };\r\n\r\n  const logout = () => {\r\n    setUser(null);\r\n    localStorage.removeItem('user');\r\n  };\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={{\r\n        user,\r\n        loading,\r\n        createUser,\r\n        updateUsername,\r\n        updateUser,\r\n        logout\r\n      }}\r\n    >\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n};"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElE,MAAO,MAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,CAAC,CAE1C,MAAO,MAAM,CAAAM,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAE5C;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAW,SAAS,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAC9C,GAAIF,SAAS,CAAE,CACb,GAAI,CACFH,OAAO,CAACM,IAAI,CAACC,KAAK,CAACJ,SAAS,CAAC,CAAC,CAChC,CAAE,MAAOK,CAAC,CAAE,CACVC,OAAO,CAACC,KAAK,CAAC,4BAA4B,CAAEF,CAAC,CAAC,CAC9CJ,YAAY,CAACO,UAAU,CAAC,MAAM,CAAC,CACjC,CACF,CACAT,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAU,UAAU,CAAIC,QAAQ,EAAK,CAC/B,KAAM,CAAAC,OAAO,CAAG,CACdC,EAAE,CAAE,QAAQC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,SAAS,CAAC,CAAC,CAAE,EAAE,CAAC,EAAE,CACzDN,QAAQ,CACRO,SAAS,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CACpC,CAAC,CACDtB,OAAO,CAACc,OAAO,CAAC,CAChBV,YAAY,CAACmB,OAAO,CAAC,MAAM,CAAEjB,IAAI,CAACkB,SAAS,CAACV,OAAO,CAAC,CAAC,CACrD,MAAO,CAAAA,OAAO,CAChB,CAAC,CAED;AACA,KAAM,CAAAW,cAAc,CAAIZ,QAAQ,EAAK,CACnC,GAAI,CAACd,IAAI,CAAE,CACT,MAAO,CAAAa,UAAU,CAACC,QAAQ,CAAC,CAC7B,CAEA,KAAM,CAAAa,WAAW,CAAG,CAAE,GAAG3B,IAAI,CAAEc,QAAS,CAAC,CACzCb,OAAO,CAAC0B,WAAW,CAAC,CACpBtB,YAAY,CAACmB,OAAO,CAAC,MAAM,CAAEjB,IAAI,CAACkB,SAAS,CAACE,WAAW,CAAC,CAAC,CACzD,MAAO,CAAAA,WAAW,CACpB,CAAC,CAED;AACA,KAAM,CAAAC,UAAU,CAAIC,OAAO,EAAK,CAC9B,GAAI,CAAC7B,IAAI,CAAE,MAAO,KAAI,CAEtB,KAAM,CAAA2B,WAAW,CAAG,CAAE,GAAG3B,IAAI,CAAE,GAAG6B,OAAQ,CAAC,CAC3C5B,OAAO,CAAC0B,WAAW,CAAC,CACpBtB,YAAY,CAACmB,OAAO,CAAC,MAAM,CAAEjB,IAAI,CAACkB,SAAS,CAACE,WAAW,CAAC,CAAC,CACzD,MAAO,CAAAA,WAAW,CACpB,CAAC,CAED,KAAM,CAAAG,MAAM,CAAGA,CAAA,GAAM,CACnB7B,OAAO,CAAC,IAAI,CAAC,CACbI,YAAY,CAACO,UAAU,CAAC,MAAM,CAAC,CACjC,CAAC,CAED,mBACEjB,IAAA,CAACC,WAAW,CAACmC,QAAQ,EACnBC,KAAK,CAAE,CACLhC,IAAI,CACJE,OAAO,CACPW,UAAU,CACVa,cAAc,CACdE,UAAU,CACVE,MACF,CAAE,CAAA/B,QAAA,CAEDA,QAAQ,CACW,CAAC,CAE3B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}