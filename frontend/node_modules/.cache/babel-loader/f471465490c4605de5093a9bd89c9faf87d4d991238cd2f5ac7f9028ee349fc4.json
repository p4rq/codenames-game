{"ast":null,"code":"import React,{createContext,useState,useContext}from'react';import axios from'axios';import{UserContext}from'./UserContext';import{jsx as _jsx}from\"react/jsx-runtime\";export const GameContext=/*#__PURE__*/createContext();// Define API base URL with the /api prefix\nconst API_URL='/api';// Add request/response interceptors for debugging\naxios.interceptors.request.use(config=>{console.log('API Request:',{method:config.method,url:config.url,data:config.data});return config;},error=>{console.error('API Request Error:',error);return Promise.reject(error);});axios.interceptors.response.use(response=>{console.log('API Response:',{status:response.status,data:response.data});return response;},error=>{var _error$response,_error$response2;console.error('API Response Error:',{status:(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status,data:(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data});return Promise.reject(error);});export const GameProvider=_ref=>{let{children}=_ref;const{user,updateUser}=useContext(UserContext);const[error,setError]=useState(null);const[game,setGame]=useState({id:null,cards:[],players:[],current_turn:null,red_cards_left:0,blue_cards_left:0,winning_team:null});const clearError=()=>setError(null);const startNewGame=async(playerId,username)=>{clearError();try{console.log(`Starting new game for player: ${playerId}, ${username}`);const response=await axios.post(`${API_URL}/game/start`,{creator_id:playerId,// Changed from player_id to creator_id\nusername:username});if(response.status===200||response.status===201){console.log(\"Server response:\",response.data);setGame(response.data);return response.data;}else{throw new Error(`Failed to start game: ${response.statusText}`);}}catch(err){console.error(\"Error starting game:\",err);setError(`Failed to start game: ${err.message||'Unknown error'}`);return null;}};// Add the joinExistingGame function\nconst joinExistingGame=async(gameId,userId,username,team)=>{try{clearError();console.log(\"Joining game:\",{gameId,userId,username,team});const response=await axios.post(`${API_URL}/game/join`,{game_id:gameId,player_id:userId,username:username,team:team});console.log(\"Join game response:\",response.data);if(!response.data||!response.data.id){console.error(\"Invalid game response:\",response.data);setError(\"Server returned an invalid game. Please try again.\");return null;}const joinedGame=response.data;setGame(joinedGame);return joinedGame;}catch(err){var _err$response;console.error(\"Error joining game:\",err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.data)||'Failed to join game. Please try again.');return null;}};// Other methods like getGameState also need the API prefix\nconst getGameState=async gameId=>{try{clearError();const response=await axios.get(`${API_URL}/game/state?id=${gameId}`);return response.data;}catch(err){var _err$response2;console.error(\"Error fetching game state:\",err);setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.data)||'Failed to load game.');return null;}};// Make sure all other API calls use the same prefix\nconst revealCard=async(gameId,cardId,playerId)=>{try{clearError();const response=await axios.post(`${API_URL}/game/reveal`,{game_id:gameId,card_id:cardId,player_id:playerId});return response.data;}catch(err){var _err$response3;console.error(\"Error revealing card:\",err);setError(((_err$response3=err.response)===null||_err$response3===void 0?void 0:_err$response3.data)||'Failed to reveal card.');return null;}};const setSpymaster=async(gameId,playerId)=>{try{clearError();const response=await axios.post(`${API_URL}/game/set-spymaster?game_id=${gameId}&player_id=${playerId}`);return response.data;}catch(err){var _err$response4;console.error(\"Error setting spymaster:\",err);setError(((_err$response4=err.response)===null||_err$response4===void 0?void 0:_err$response4.data)||'Failed to become spymaster.');return null;}};const endTurn=async(gameId,playerId)=>{try{clearError();const response=await axios.post(`${API_URL}/game/end-turn?game_id=${gameId}&player_id=${playerId}`);return response.data;}catch(err){var _err$response5;console.error(\"Error ending turn:\",err);setError(((_err$response5=err.response)===null||_err$response5===void 0?void 0:_err$response5.data)||'Failed to end turn.');return null;}};const changeTeam=async(gameId,playerId,team)=>{try{console.log(`Changing team for player ${playerId} to ${team} in game ${gameId}`);// Use the correct API endpoint\nconst response=await axios.post('/api/game/change-team',{game_id:gameId,player_id:playerId,team:team});// Check if response has valid data\nif(response.status===200){if(typeof response.data==='string'){// This is likely HTML content, meaning the API route is not working\nconsole.error('Received HTML response instead of JSON. API route may be misconfigured.',response.data.substring(0,100));return null;}console.log(\"Team change successful:\",response.data);// Update the user object\nupdateUser({team:team});// Update the game state\nsetGame(response.data);return response.data;}else{throw new Error(`Failed to change team: ${response.statusText}`);}}catch(err){console.error(\"Error changing team:\",err);setError(`Failed to change team: ${err.message||'Unknown error'}`);return null;}};// Set user team both in backend and in user context\nconst setUserTeam=async(gameId,team)=>{if(!user)return null;try{// Update team on server\nconst gameResponse=await changeTeam(gameId,user.id,team);if(!gameResponse){throw new Error('Failed to update team on server');}// Update user in local context/storage\nconst updatedUser={...user,team};updateUser(updatedUser);return updatedUser;}catch(error){console.error('Error setting user team:',error);return null;}};// Fixed handleTeamChange function\nconst handleTeamChange=async team=>{if(!user||!gameId)return;try{// Try using the API first\nconst gameResponse=await changeTeam(gameId,user.id,team);// If API fails, at least update the UI\nif(!gameResponse){console.log(\"API failed, updating UI only\");// Update user context directly\nupdateUser({team:team});// Update local game state for immediate feedback\nif(game&&game.players){const updatedGame={...game};const playerIndex=updatedGame.players.findIndex(p=>p.id===user.id);if(playerIndex>=0){updatedGame.players[playerIndex].team=team;setGame(updatedGame);}}}console.log(`Team changed to ${team} for user ${user.username}`);return true;}catch(error){console.error('Error changing team:',error);return false;}};// Update the provider value with all functions\nreturn/*#__PURE__*/_jsx(GameContext.Provider,{value:{game,error,startNewGame,joinExistingGame,getGameState,revealCard,setSpymaster,endTurn,changeTeam,setUserTeam,handleTeamChange},children:children});};","map":{"version":3,"names":["React","createContext","useState","useContext","axios","UserContext","jsx","_jsx","GameContext","API_URL","interceptors","request","use","config","console","log","method","url","data","error","Promise","reject","response","status","_error$response","_error$response2","GameProvider","_ref","children","user","updateUser","setError","game","setGame","id","cards","players","current_turn","red_cards_left","blue_cards_left","winning_team","clearError","startNewGame","playerId","username","post","creator_id","Error","statusText","err","message","joinExistingGame","gameId","userId","team","game_id","player_id","joinedGame","_err$response","getGameState","get","_err$response2","revealCard","cardId","card_id","_err$response3","setSpymaster","_err$response4","endTurn","_err$response5","changeTeam","substring","setUserTeam","gameResponse","updatedUser","handleTeamChange","updatedGame","playerIndex","findIndex","p","Provider","value"],"sources":["C:/Users/anuarbek/codenames-game/frontend/src/context/GameContext.jsx"],"sourcesContent":["import React, { createContext, useState, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { UserContext } from './UserContext';\r\n\r\nexport const GameContext = createContext();\r\n\r\n// Define API base URL with the /api prefix\r\nconst API_URL = '/api';\r\n\r\n// Add request/response interceptors for debugging\r\naxios.interceptors.request.use(\r\n  config => {\r\n    console.log('API Request:', {\r\n      method: config.method,\r\n      url: config.url,\r\n      data: config.data\r\n    });\r\n    return config;\r\n  },\r\n  error => {\r\n    console.error('API Request Error:', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\naxios.interceptors.response.use(\r\n  response => {\r\n    console.log('API Response:', {\r\n      status: response.status,\r\n      data: response.data\r\n    });\r\n    return response;\r\n  },\r\n  error => {\r\n    console.error('API Response Error:', {\r\n      status: error.response?.status,\r\n      data: error.response?.data\r\n    });\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport const GameProvider = ({ children }) => {\r\n  const { user, updateUser } = useContext(UserContext);\r\n  const [error, setError] = useState(null);\r\n  const [game, setGame] = useState({\r\n    id: null,\r\n    cards: [],\r\n    players: [],\r\n    current_turn: null,\r\n    red_cards_left: 0,\r\n    blue_cards_left: 0,\r\n    winning_team: null\r\n  });\r\n  \r\n  const clearError = () => setError(null);\r\n\r\n  const startNewGame = async (playerId, username) => {\r\n    clearError();\r\n    \r\n    try {\r\n      console.log(`Starting new game for player: ${playerId}, ${username}`);\r\n      \r\n      const response = await axios.post(`${API_URL}/game/start`, {\r\n        creator_id: playerId,  // Changed from player_id to creator_id\r\n        username: username\r\n      });\r\n      \r\n      if (response.status === 200 || response.status === 201) {\r\n        console.log(\"Server response:\", response.data);\r\n        setGame(response.data);\r\n        return response.data;\r\n      } else {\r\n        throw new Error(`Failed to start game: ${response.statusText}`);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error starting game:\", err);\r\n      setError(`Failed to start game: ${err.message || 'Unknown error'}`);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Add the joinExistingGame function\r\n  const joinExistingGame = async (gameId, userId, username, team) => {\r\n    try {\r\n      clearError();\r\n      console.log(\"Joining game:\", { gameId, userId, username, team });\r\n      \r\n      const response = await axios.post(`${API_URL}/game/join`, {\r\n        game_id: gameId,\r\n        player_id: userId,\r\n        username: username,\r\n        team: team\r\n      });\r\n      \r\n      console.log(\"Join game response:\", response.data);\r\n      \r\n      if (!response.data || !response.data.id) {\r\n        console.error(\"Invalid game response:\", response.data);\r\n        setError(\"Server returned an invalid game. Please try again.\");\r\n        return null;\r\n      }\r\n      \r\n      const joinedGame = response.data;\r\n      setGame(joinedGame);\r\n      return joinedGame;\r\n    } catch (err) {\r\n      console.error(\"Error joining game:\", err);\r\n      setError(err.response?.data || 'Failed to join game. Please try again.');\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Other methods like getGameState also need the API prefix\r\n  const getGameState = async (gameId) => {\r\n    try {\r\n      clearError();\r\n      const response = await axios.get(`${API_URL}/game/state?id=${gameId}`);\r\n      return response.data;\r\n    } catch (err) {\r\n      console.error(\"Error fetching game state:\", err);\r\n      setError(err.response?.data || 'Failed to load game.');\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Make sure all other API calls use the same prefix\r\n  const revealCard = async (gameId, cardId, playerId) => {\r\n    try {\r\n      clearError();\r\n      const response = await axios.post(`${API_URL}/game/reveal`, {\r\n        game_id: gameId,\r\n        card_id: cardId,\r\n        player_id: playerId\r\n      });\r\n      return response.data;\r\n    } catch (err) {\r\n      console.error(\"Error revealing card:\", err);\r\n      setError(err.response?.data || 'Failed to reveal card.');\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const setSpymaster = async (gameId, playerId) => {\r\n    try {\r\n      clearError();\r\n      const response = await axios.post(`${API_URL}/game/set-spymaster?game_id=${gameId}&player_id=${playerId}`);\r\n      return response.data;\r\n    } catch (err) {\r\n      console.error(\"Error setting spymaster:\", err);\r\n      setError(err.response?.data || 'Failed to become spymaster.');\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const endTurn = async (gameId, playerId) => {\r\n    try {\r\n      clearError();\r\n      const response = await axios.post(`${API_URL}/game/end-turn?game_id=${gameId}&player_id=${playerId}`);\r\n      return response.data;\r\n    } catch (err) {\r\n      console.error(\"Error ending turn:\", err);\r\n      setError(err.response?.data || 'Failed to end turn.');\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const changeTeam = async (gameId, playerId, team) => {\r\n    try {\r\n      console.log(`Changing team for player ${playerId} to ${team} in game ${gameId}`);\r\n      \r\n      // Use the correct API endpoint\r\n      const response = await axios.post('/api/game/change-team', {\r\n        game_id: gameId,\r\n        player_id: playerId,\r\n        team: team\r\n      });\r\n      \r\n      // Check if response has valid data\r\n      if (response.status === 200) {\r\n        if (typeof response.data === 'string') {\r\n          // This is likely HTML content, meaning the API route is not working\r\n          console.error('Received HTML response instead of JSON. API route may be misconfigured.', response.data.substring(0, 100));\r\n          return null;\r\n        }\r\n        \r\n        console.log(\"Team change successful:\", response.data);\r\n        \r\n        // Update the user object\r\n        updateUser({ team: team });\r\n        \r\n        // Update the game state\r\n        setGame(response.data);\r\n        return response.data;\r\n      } else {\r\n        throw new Error(`Failed to change team: ${response.statusText}`);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error changing team:\", err);\r\n      setError(`Failed to change team: ${err.message || 'Unknown error'}`);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Set user team both in backend and in user context\r\n  const setUserTeam = async (gameId, team) => {\r\n    if (!user) return null;\r\n    \r\n    try {\r\n      // Update team on server\r\n      const gameResponse = await changeTeam(gameId, user.id, team);\r\n      if (!gameResponse) {\r\n        throw new Error('Failed to update team on server');\r\n      }\r\n      \r\n      // Update user in local context/storage\r\n      const updatedUser = { ...user, team };\r\n      updateUser(updatedUser);\r\n      return updatedUser;\r\n    } catch (error) {\r\n      console.error('Error setting user team:', error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Fixed handleTeamChange function\r\n  const handleTeamChange = async (team) => {\r\n    if (!user || !gameId) return;\r\n\r\n    try {\r\n      // Try using the API first\r\n      const gameResponse = await changeTeam(gameId, user.id, team);\r\n      \r\n      // If API fails, at least update the UI\r\n      if (!gameResponse) {\r\n        console.log(\"API failed, updating UI only\");\r\n        \r\n        // Update user context directly\r\n        updateUser({ team: team });\r\n        \r\n        // Update local game state for immediate feedback\r\n        if (game && game.players) {\r\n          const updatedGame = { ...game };\r\n          const playerIndex = updatedGame.players.findIndex(p => p.id === user.id);\r\n          \r\n          if (playerIndex >= 0) {\r\n            updatedGame.players[playerIndex].team = team;\r\n            setGame(updatedGame);\r\n          }\r\n        }\r\n      }\r\n      \r\n      console.log(`Team changed to ${team} for user ${user.username}`);\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error changing team:', error);\r\n      return false;\r\n    }\r\n  };\r\n  \r\n  // Update the provider value with all functions\r\n  return (\r\n    <GameContext.Provider \r\n      value={{ \r\n        game, \r\n        error, \r\n        startNewGame, \r\n        joinExistingGame,\r\n        getGameState, \r\n        revealCard, \r\n        setSpymaster, \r\n        endTurn,\r\n        changeTeam,\r\n        setUserTeam,\r\n        handleTeamChange\r\n      }}\r\n    >\r\n      {children}\r\n    </GameContext.Provider>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}